var Afe=Afe||{};Afe.apply=function(a,b,c){if(c&&Afe.apply(a,c),a&&b&&"object"==typeof b)for(var d in b)a[d]=b[d];return a};var Afe=Afe||{},core={noop:function(){},isFunction:function(a){return a&&"[object Function]"==={}.toString.call(a)},isObject:function(a){return null===a?!1:"function"==typeof a||"object"==typeof a},isDefinded:function(a){return"undefined"!=typeof a},isEmpty:function(a,b){return null==a||(b?!1:""===a)||this.isArray(a)&&0===a.length},isArray:"isArray"in Array?Array.isArray:function(a){return"[object Array]"===toString.call(a)},clone:function(a){if(null===a||void 0===a)return a;if(a.nodeType&&a.cloneNode)return a.cloneNode(!0);var b,c,d,e=toString.call(a);if("[object Date]"===e)return new Date(a.getTime());if("[object Array]"===e)for(b=a.length,c=[];b--;)c[b]=this.clone(a[b]);else if("[object Object]"===e&&a.constructor===Object){c={};for(d in a)c[d]=this.clone(a[d])}return c||a}};Afe.apply(Afe,core);var Afe=Afe||{},form={};Afe.form={},Afe.apply(Afe.form,form),Afe.form.checkbox=function(a){var b=function(a,b){return $.post(a,b,Afe.isFunction(c.onSuccess)?c.onSuccess:Afe.noop()).done(Afe.isFunction(c.onDone)?c.onDone:Afe.noop()).fail(Afe.isFunction(c.onFail)?c.onFail:Afe.noop()).always(Afe.isFunction(c.onAlways)?c.onAlways:Afe.noop())},c={onChecked:function(a,c){return Afe.isDefinded(this.url)?b(this.url,{name:a.attr("name"),value:c.type}):void 0},onUnchecked:function(a,c){return Afe.isDefinded(this.url)?b(this.url,{name:a.attr("name"),value:c.type}):void 0},onSuccess:function(a){},onFail:function(a){},onDone:function(a){},onAlways:function(a){}};return $(this).each(function(b,d){var e=$(d);if(e.is(":checkbox")&&!e.data("checkbox-replaced")){e.data("checkbox-replaced",!0);var f=e.data("type"),g=e.closest("fieldset"),h=Afe.isDefinded(g)?g.data("url"):!1,i=e.data("url"),j=e.data("label"),k=$('<label for="'+e.attr("id")+'" class="chkbox"><span class="yes">checked</span><span class="no">unchecked</span><span class="toggle"></span></label>'),l=$('<div class="wrap"></div>'),m=$.extend(!0,{},c);l.append(k),Afe.isDefinded(j)&&l.append('<span class="label">'+j+"</span>"),l.insertBefore(e),Afe.isDefinded(h)&&(m.url=h),Afe.isDefinded(f)&&Afe.isObject(a[f])&&Object.keys(a[f]).forEach(function(b){Afe.isDefinded(c[b])&&Afe.isFunction(a[f][b])&&(m[b]=a[f][b],m.url=a[f].url)}),Afe.isDefinded(i)&&(m.url=i),e.addClass("replaced").on("change",function(){e.is(":checked")?(k.addClass("on"),e.trigger("checked")):(k.removeClass("on"),e.trigger("unchecked")),e.trigger("focus")}).on("focus",function(){k.addClass("focus")}).on("blur",function(){k.removeClass("focus")}).on("checked",function(a){m.onChecked(e,a)}).on("unchecked",function(a){m.onUnchecked(e,a)}),e.is(":checked")?k.addClass("on"):k.removeClass("on")}})},Afe.form.radiobox=function(a){var b=function(a,b){return $.post(a,b,Afe.isFunction(c.onSuccess)?c.onSuccess:Afe.noop()).done(Afe.isFunction(c.onDone)?c.onDone:Afe.noop()).fail(Afe.isFunction(c.onFail)?c.onFail:Afe.noop()).always(Afe.isFunction(c.onAlways)?c.onAlways:Afe.noop())},c={onSelect:function(a){},onSelectBasic:function(a){return Afe.isDefinded(this.url)?b(this.url,{name:a.attr("name"),value:a.val()}):void 0},onSuccess:function(a){},onFail:function(a){},onDone:function(a){},onAlways:function(a){}};return $(this).each(function(b,d){var e=$(d);if(e.is(":radio")&&!e.data("radio-replaced")){e.data("radio-replaced",!0);var f=e.data("type"),g=e.closest("fieldset"),h=Afe.isDefinded(g)?g.data("url"):!1,i=e.data("url"),j=e.data("label"),k=(e.is(":checked"),$('<label for="'+e.attr("id")+'" class="radio"></label>')),l='<span class="back"></span>',m='<span class="pip"></span>',n=$.extend(!0,{},c);j=Afe.isDefinded(j)?'<span class="label">'+j+"</span>":"",k.append(l).append(j).append(m).insertBefore(e),Afe.isDefinded(h)&&(n.url=h),Afe.isDefinded(f)&&Afe.isObject(a[f])&&(Afe.isDefinded(a[f].url)&&(n.url=a[f].url),Object.keys(a[f]).forEach(function(b){Afe.isDefinded(c[b])&&Afe.isFunction(a[f][b])&&(n[b]=a[f][b])})),Afe.isDefinded(i)&&(n.url=i),e.addClass("replaced").on("change",function(){$("label.radio").each(function(a,b){var c=$(b);$("#"+c.attr("for")).is(":checked")?c.addClass("on"):c.removeClass("on")}),e.trigger("select")}).on("blur",function(){k.removeClass("focus")}).on("select",function(a){k.addClass("focus"),n.onSelectBasic(e,a),n.onSelect(e,a)}),$("label.radio").each(function(a,b){var c=$(b);$("#"+c.attr("for")).is(":checked")?c.addClass("on"):c.removeClass("on")})}})},$.fn.afeCheckbox=Afe.form.checkbox,$.fn.afeRadiobox=Afe.form.radiobox;